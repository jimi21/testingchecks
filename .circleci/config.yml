version: 2.1

orbs:
  fcheck: jimicircleci/fcheck@dev:alpha

jobs:
  clone_private_repo:
    docker:
      - image: circleci/python:3.9
    steps:
      - checkout

      - run:
          name: Clone Private Repo
          command: |
            mkdir privaterepo
            ls -la
            git config --global credential.helper store
            git clone https://$USERNAME:$PAT@github.com/$USERNAME/privaterepo.git privaterepo
            ls -al privaterepo

workflows:
  test-black:
    jobs:
      - clone_private_repo:
          context: github-cred
      # Make sure to include "filters: *filters" in every test job you want to run as part of your deployment.
      - fcheck/format:
          context: static-checks
      - fcheck/lint:
          context: static-checks
      - fcheck/mypy:
          context: static-checks
      # - fcheck/pip:
      #     context: static-checks